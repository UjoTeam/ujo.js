{"version":3,"sources":["../src/getReserves.js"],"names":["Web3","require","getReserves","web3","process","env","RPC_URL","console","log","CM_ADDRESS","cm","eth","Contract","ChannelManagerAbi","abi","methods","getHubReserveWei","call","wei","getHubReserveTokens","token","then"],"mappings":";;;;;;;;AAAA;;AAEA,IAAMA,IAAI,GAAGC,OAAO,CAAC,MAAD,CAApB,C,CAEA;AACA;AAEA;AACA;AAEA;AACA;;;SAEeC,W;;;;;;;4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AACE;AACA;AACMC,YAAAA,IAHR,GAGe,IAAIH,IAAJ,CAASI,OAAO,CAACC,GAAR,CAAYC,OAArB,CAHf;AAKEC,YAAAA,OAAO,CAACC,GAAR,CAAY,4BAAZ,EAA0CJ,OAAO,CAACC,GAAR,CAAYI,UAAtD;AAEMC,YAAAA,EAPR,GAOa,IAAIP,IAAI,CAACQ,GAAL,CAASC,QAAb,CAAsBC,wBAAkBC,GAAxC,EAA6CV,OAAO,CAACC,GAAR,CAAYI,UAAzD,CAPb;AAAA;AAAA,mBASoBC,EAAE,CAACK,OAAH,CAAWC,gBAAX,GAA8BC,IAA9B,EATpB;;AAAA;AASQC,YAAAA,GATR;AAAA;AAAA,mBAUsBR,EAAE,CAACK,OAAH,CAAWI,mBAAX,GAAiCF,IAAjC,EAVtB;;AAAA;AAUQG,YAAAA,KAVR;AAYEb,YAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCU,GAAlC;AACAX,YAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoCY,KAApC;;AAbF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAgBAlB,WAAW,GAAGmB,IAAd,CAAmB,YAAM,CAAE,CAA3B","sourcesContent":["import ChannelManagerAbi from '../abi/ChannelManager.json';\n\nconst Web3 = require('web3');\n\n// This function returns the hubs token and wei balance\n// reserves from the contract\n\n// to call this function, run the following:\n// RPC_URL=\"https://eth-rinkeby.alchemyapi.io/jsonrpc/RvyVeludt7uwmt2JEF2a1PvHhJd5c07b\" CM_ADDRESS=\"0x083c8bc6bc6f873091b43ae66cd50abef5c35f99\" node getReserves.js\n\n// the RPC_URL and the CM_ADDRESS should correspond to the network you are looking to find reserves in\n// the\n\nasync function getReserves() {\n  // TODO: hit hub endpoint to get addresses\n  // once config endpoint is in place\n  const web3 = new Web3(process.env.RPC_URL);\n\n  console.log('Investigating contract at:', process.env.CM_ADDRESS);\n\n  const cm = new web3.eth.Contract(ChannelManagerAbi.abi, process.env.CM_ADDRESS);\n\n  const wei = await cm.methods.getHubReserveWei().call();\n  const token = await cm.methods.getHubReserveTokens().call();\n\n  console.log('hub wei reserves: ', wei);\n  console.log('hub token reserves: ', token);\n}\n\ngetReserves().then(() => {});\n"],"file":"getReserves.js"}